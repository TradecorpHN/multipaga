import{c as N,u as O,r as g,j as s}from"./index-BWBdPVw1.js";import{B as x}from"./button-D0HiSPgI.js";import{B as S}from"./badge-Cbp6oXzG.js";import{C as D}from"./credit-card-C19vYvun.js";import{S as f}from"./shopping-cart-CgqzBQPJ.js";import{S as b}from"./send-aQYmAh-F.js";import{R as U}from"./refresh-cw-f0hoREum.js";import{U as P}from"./users-DL23A3YG.js";import{S as V,X as y}from"./x-CDK3Dtox.js";import{U as W}from"./user-CeGzYdzR.js";import{M as v}from"./map-pin-hPLByw_4.js";import"./index-C5vqZNo1.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],H=N("chart-column",w);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Y=N("house",j);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],G=N("log-out",k);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],B=N("menu",L);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],F=N("plug",K);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],X=N("triangle-alert",z),n={ADMIN:"admin",ORGANIZATION_ADMIN:"org_admin",MERCHANT_ADMIN:"merchant_admin",MERCHANT_OPERATOR:"merchant_operator",MERCHANT_VIEWER:"merchant_viewer",CONSUMER:"consumer",CONSUMER_PREMIUM:"consumer_premium",AGENT_HONDURAS:"agent_honduras",PARTNER_BANK:"partner_bank"},l={MERCHANT:"merchant",CONSUMER:"consumer",AGENT:"agent",ADMIN:"admin"},e={DASHBOARD_VIEW:"dashboard:view",DASHBOARD_ANALYTICS:"dashboard:analytics",PAYMENTS_VIEW:"payments:view",PAYMENTS_CREATE:"payments:create",PAYMENTS_REFUND:"payments:refund",PAYMENTS_EXPORT:"payments:export",PAYMENTS_MANAGE:"payments:manage",ANALYTICS_VIEW:"analytics:view",ANALYTICS_EXPORT:"analytics:export",ANALYTICS_ADVANCED:"analytics:advanced",CONNECTORS_VIEW:"connectors:view",CONNECTORS_CREATE:"connectors:create",CONNECTORS_EDIT:"connectors:edit",CONNECTORS_DELETE:"connectors:delete",REFUNDS_VIEW:"refunds:view",REFUNDS_CREATE:"refunds:create",REFUNDS_MANAGE:"refunds:manage",DISPUTES_VIEW:"disputes:view",DISPUTES_MANAGE:"disputes:manage",DISPUTES_EVIDENCE:"disputes:evidence",SETTINGS_VIEW:"settings:view",SETTINGS_EDIT:"settings:edit",SETTINGS_API_KEYS:"settings:api_keys",SETTINGS_WEBHOOKS:"settings:webhooks",USERS_VIEW:"users:view",USERS_CREATE:"users:create",USERS_EDIT:"users:edit",USERS_DELETE:"users:delete",USERS_ROLES:"users:roles",USER_MANAGEMENT:"user:management",POS_ACCESS:"pos:access",POS_MANAGE:"pos:manage",REMITTANCE_SEND:"remittance:send",REMITTANCE_RECEIVE:"remittance:receive",REMITTANCE_TRACK:"remittance:track",HONDURAS_BANKING:"honduras:banking",HONDURAS_MOBILE_MONEY:"honduras:mobile_money",HONDURAS_COMPLIANCE:"honduras:compliance"},_={[n.ADMIN]:[...Object.values(e)],[n.ORGANIZATION_ADMIN]:[e.DASHBOARD_VIEW,e.DASHBOARD_ANALYTICS,e.PAYMENTS_VIEW,e.PAYMENTS_EXPORT,e.ANALYTICS_VIEW,e.ANALYTICS_EXPORT,e.ANALYTICS_ADVANCED,e.CONNECTORS_VIEW,e.REFUNDS_VIEW,e.DISPUTES_VIEW,e.SETTINGS_VIEW,e.USERS_VIEW,e.USERS_CREATE,e.USERS_EDIT,e.USERS_ROLES,e.USER_MANAGEMENT],[n.MERCHANT_ADMIN]:[e.DASHBOARD_VIEW,e.DASHBOARD_ANALYTICS,e.PAYMENTS_VIEW,e.PAYMENTS_CREATE,e.PAYMENTS_REFUND,e.PAYMENTS_EXPORT,e.ANALYTICS_VIEW,e.ANALYTICS_EXPORT,e.CONNECTORS_VIEW,e.CONNECTORS_CREATE,e.CONNECTORS_EDIT,e.REFUNDS_VIEW,e.REFUNDS_CREATE,e.DISPUTES_VIEW,e.DISPUTES_MANAGE,e.SETTINGS_VIEW,e.SETTINGS_EDIT,e.SETTINGS_API_KEYS,e.SETTINGS_WEBHOOKS,e.POS_ACCESS,e.POS_MANAGE,e.REMITTANCE_SEND,e.REMITTANCE_TRACK,e.HONDURAS_BANKING,e.HONDURAS_MOBILE_MONEY],[n.MERCHANT_OPERATOR]:[e.DASHBOARD_VIEW,e.PAYMENTS_VIEW,e.PAYMENTS_CREATE,e.PAYMENTS_REFUND,e.ANALYTICS_VIEW,e.CONNECTORS_VIEW,e.REFUNDS_VIEW,e.REFUNDS_CREATE,e.DISPUTES_VIEW,e.POS_ACCESS,e.REMITTANCE_SEND,e.REMITTANCE_TRACK,e.HONDURAS_BANKING,e.HONDURAS_MOBILE_MONEY],[n.MERCHANT_VIEWER]:[e.DASHBOARD_VIEW,e.PAYMENTS_VIEW,e.ANALYTICS_VIEW,e.CONNECTORS_VIEW,e.REFUNDS_VIEW,e.DISPUTES_VIEW,e.REMITTANCE_TRACK],[n.CONSUMER]:[e.DASHBOARD_VIEW,e.PAYMENTS_VIEW,e.REMITTANCE_SEND,e.REMITTANCE_RECEIVE,e.REMITTANCE_TRACK,e.HONDURAS_MOBILE_MONEY],[n.CONSUMER_PREMIUM]:[e.DASHBOARD_VIEW,e.PAYMENTS_VIEW,e.ANALYTICS_VIEW,e.REMITTANCE_SEND,e.REMITTANCE_RECEIVE,e.REMITTANCE_TRACK,e.HONDURAS_BANKING,e.HONDURAS_MOBILE_MONEY],[n.AGENT_HONDURAS]:[e.DASHBOARD_VIEW,e.PAYMENTS_VIEW,e.PAYMENTS_CREATE,e.ANALYTICS_VIEW,e.POS_ACCESS,e.POS_MANAGE,e.REMITTANCE_SEND,e.REMITTANCE_RECEIVE,e.REMITTANCE_TRACK,e.HONDURAS_BANKING,e.HONDURAS_MOBILE_MONEY,e.HONDURAS_COMPLIANCE],[n.PARTNER_BANK]:[e.DASHBOARD_VIEW,e.PAYMENTS_VIEW,e.ANALYTICS_VIEW,e.ANALYTICS_EXPORT,e.CONNECTORS_VIEW,e.REFUNDS_VIEW,e.DISPUTES_VIEW,e.HONDURAS_BANKING,e.HONDURAS_COMPLIANCE]},$={[l.MERCHANT]:{dashboard:!0,payments:!0,analytics:!0,pos:!0,remittance:!0,refunds:!0,disputes:!0,connectors:!0,settings:!0},[l.CONSUMER]:{dashboard:!0,payments:!0,analytics:!1,pos:!1,remittance:!0,refunds:!1,disputes:!1,connectors:!1,settings:!0},[l.AGENT]:{dashboard:!0,payments:!0,analytics:!0,pos:!0,remittance:!0,refunds:!0,disputes:!1,connectors:!1,settings:!0},[l.ADMIN]:{dashboard:!0,payments:!0,analytics:!0,pos:!0,remittance:!0,refunds:!0,disputes:!0,connectors:!0,settings:!0}},a={hasPermission:(t,o)=>(_[t]||[]).includes(o),hasModuleAccess:(t,o)=>($[t]||{})[o]||!1,getRolePermissions:t=>_[t]||[],isMerchantRole:t=>[n.MERCHANT_ADMIN,n.MERCHANT_OPERATOR,n.MERCHANT_VIEWER].includes(t),isConsumerRole:t=>[n.CONSUMER,n.CONSUMER_PREMIUM].includes(t),isAdminRole:t=>[n.ADMIN,n.ORGANIZATION_ADMIN].includes(t),getUserTypeFromRole:t=>a.isMerchantRole(t)?l.MERCHANT:a.isConsumerRole(t)?l.CONSUMER:a.isAdminRole(t)?l.ADMIN:t===n.AGENT_HONDURAS?l.AGENT:l.CONSUMER,hasAnyPermission:(t,o)=>o.some(E=>a.hasPermission(t,E)),hasAllPermissions:(t,o)=>o.every(E=>a.hasPermission(t,E)),filterMenuItems:(t,o,E)=>E.filter(r=>r.module&&!a.hasModuleAccess(o,r.module)?!1:r.permissions&&r.permissions.length>0?a.hasAnyPermission(t,r.permissions):!0),assignRoleFromEmail:t=>t.includes("admin")?n.ADMIN:t.includes("merchant")?n.MERCHANT_ADMIN:t.includes("operator")?n.MERCHANT_OPERATOR:t.includes("agent")?n.AGENT_HONDURAS:t.includes("bank")?n.PARTNER_BANK:t==="andinodane2003@gmail.com"?n.MERCHANT_ADMIN:n.CONSUMER},Ee=({children:t,currentModule:o,onModuleChange:E})=>{const{user:r,signOut:u}=O(),[m,c]=g.useState(!1),A=(r==null?void 0:r.role)||a.assignRoleFromEmail((r==null?void 0:r.email)||""),R=a.getUserTypeFromRole(A),T=[{id:"dashboard",label:"Dashboard",icon:Y,module:"dashboard",permissions:[e.DASHBOARD_VIEW]},{id:"payments",label:"Pagos",icon:D,module:"payments",permissions:[e.PAYMENTS_VIEW]},{id:"analytics",label:"Analítica",icon:H,module:"analytics",permissions:[e.ANALYTICS_VIEW]},{id:"pos",label:"Gestión POS",icon:f,module:"pos",permissions:[e.POS_ACCESS]},{id:"remittance",label:"Remesas",icon:b,module:"remittance",permissions:[e.REMITTANCE_SEND,e.REMITTANCE_RECEIVE]},{id:"refunds",label:"Reembolsos",icon:U,module:"refunds",permissions:[e.REFUNDS_VIEW]},{id:"disputes",label:"Disputas",icon:X,module:"disputes",permissions:[e.DISPUTES_VIEW]},{id:"connectors",label:"Conectores",icon:F,module:"connectors",permissions:[e.CONNECTORS_VIEW]},{id:"users",label:"Gestión de Usuarios",icon:P,module:"users",permissions:[e.USER_MANAGEMENT]},{id:"settings",label:"Configuración",icon:V,module:"settings",permissions:[e.SETTINGS_VIEW]}],I=a.filterMenuItems(A,R,T),C=i=>({admin:"Administrador",org_admin:"Admin. Organización",merchant_admin:"Admin. Comerciante",merchant_operator:"Operador Comerciante",merchant_viewer:"Visualizador Comerciante",consumer:"Consumidor",consumer_premium:"Consumidor Premium",agent_honduras:"Agente Honduras",partner_bank:"Banco Socio"})[i]||i,M=i=>a.isAdminRole(i)?"bg-red-100 text-red-800":a.isMerchantRole(i)?"bg-blue-100 text-blue-800":a.isConsumerRole(i)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",h=async()=>{await u()};return s.jsxs("div",{className:"min-h-screen bg-background flex",children:[s.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 transform ${m?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 glass-effect-dark`,children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-black/20 border-b border-white/10",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("div",{className:"logo-container",children:s.jsx("img",{src:"/logo.png",alt:"Multipaga",className:"h-8 w-auto logo-glow"})})}),s.jsx("button",{onClick:()=>c(!1),className:"lg:hidden text-white hover:text-gray-300 transition-colors",children:s.jsx(y,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"px-6 py-4 border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center neon-glow",children:s.jsx(W,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:(r==null?void 0:r.name)||(r==null?void 0:r.email)||"Usuario"}),s.jsx(S,{className:`text-xs mt-1 ${M(A)}`,children:C(A)})]})]}),s.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-xs text-blue-200",children:[s.jsx(v,{className:"h-3 w-3"}),s.jsx("span",{children:"Honduras 🇭🇳"}),s.jsx(S,{variant:"outline",className:"text-xs border-green-400 text-green-400 bg-green-400/10",children:"En Línea"})]})]}),s.jsx("nav",{className:"mt-6 px-3",children:s.jsx("div",{className:"space-y-1",children:I.map(i=>{const d=o===i.id,p=i.icon;return s.jsxs("button",{onClick:()=>{E(i.id),c(!1)},className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${d?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg neon-glow":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[s.jsx(p,{className:"h-5 w-5 mr-3"}),i.label,d&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full pulse-slow"})]},i.id)})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-white/10",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-xs text-blue-200",children:[s.jsxs("p",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{children:"Conectado a Sandbox"})]}),s.jsx("p",{className:"mt-1",children:"Hyperswitch API v1.0"})]}),s.jsxs(x,{onClick:h,variant:"outline",size:"sm",className:"w-full text-white border-white/20 hover:bg-white/10 button-glow",children:[s.jsx(G,{className:"h-4 w-4 mr-2"}),"Cerrar Sesión"]})]})})]}),s.jsxs("div",{className:"flex-1 lg:ml-0",children:[s.jsx("div",{className:"lg:hidden bg-card/80 backdrop-blur-sm border-b border-border px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>c(!0),className:"text-foreground hover:text-primary transition-colors",children:s.jsx(B,{className:"h-6 w-6"})}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("img",{src:"/logo.png",alt:"Multipaga",className:"h-6 w-auto logo-container"})}),s.jsx("div",{className:"w-6"})," "]})}),s.jsx("main",{className:"flex-1 bg-background",children:t})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>c(!1)})]})};export{Ee as default};
