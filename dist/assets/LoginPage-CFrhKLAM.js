import{r,j as e,S as M,L as A}from"./index-DeblWV9C.js";import{u as D}from"./AuthProvider-BqYX9le9.js";import{A as I}from"./auth-BrTCkVfQ.js";import{C as H,a as P,b as _,c as B,d as T}from"./card-CcoZyoEX.js";import{B as F}from"./button-CDLBEjC2.js";import{I as m}from"./input-DWRZebvJ.js";import{B as x}from"./badge-D83kCHDl.js";import{A as h,a as u}from"./alert-BJB0q85e.js";import{G}from"./globe-6c2XbXLy.js";import{L as p}from"./lock-MUpOXs4-.js";import{M as g,E as q}from"./mail-D6yIyLNx.js";import{E as R}from"./eye-BjQLm1xC.js";import{C as U}from"./circle-alert--MUTmDVN.js";import{C as $}from"./circle-check-big-BoYYJxvU.js";import"./js.cookie-Cz0CWeBA.js";import"./index-Dqfj2ltJ.js";const ie=()=>{const{signIn:b,signInWithMagicLink:f,authStatus:w,error:i,loading:j}=D(),[a,o]=r.useState("password"),[s,N]=r.useState({email:"",password:""}),[l,v]=r.useState(!1),[y,C]=r.useState(!1),n=t=>{const{name:d,value:L}=t.target;N(E=>({...E,[d]:L}))},k=async t=>{t.preventDefault(),!(!s.email||!s.password)&&await b(s.email,s.password)},S=async t=>{if(t.preventDefault(),!s.email)return;await f(s.email)&&C(!0)},c=j||w===I.CHECKING_AUTH;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[e.jsxs(H,{className:"glass-effect-dark border-white/20 shadow-2xl",children:[e.jsxs(P,{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"logo-container",children:e.jsx("img",{src:"/logo.png",alt:"Multipaga",className:"h-16 w-auto logo-glow"})})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-2xl font-bold text-white gradient-text",children:"Multipaga"}),e.jsx(B,{className:"text-blue-200 mt-2",children:"Plataforma de Pagos"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-3",children:[e.jsxs(x,{variant:"outline",className:"text-xs border-green-400 text-green-400 bg-green-400/10",children:[e.jsx(G,{className:"h-3 w-3 mr-1"}),"Entorno Sandbox"]}),e.jsxs(x,{variant:"outline",className:"text-xs border-blue-400 text-blue-400 bg-blue-400/10",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),"Hyperswitch"]})]})]})]}),e.jsxs(T,{className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-2 p-1 bg-black/20 rounded-lg",children:[e.jsxs("button",{onClick:()=>o("password"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all ${a==="password"?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[e.jsx(p,{className:"h-4 w-4 inline mr-2"}),"Contrase√±a"]}),e.jsxs("button",{onClick:()=>o("magic_link"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all ${a==="magic_link"?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[e.jsx(g,{className:"h-4 w-4 inline mr-2"}),"Magic Link"]})]}),e.jsxs("form",{onSubmit:a==="password"?k:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-200",children:"Correo Electr√≥nico"}),e.jsxs("div",{className:"relative form-input-enhanced",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(m,{id:"email",name:"email",type:"email",value:s.email,onChange:n,placeholder:"usuario@ejemplo.com",className:"pl-10 bg-black/20 border-white/20 text-white placeholder-gray-400 focus:border-blue-400",required:!0})]})]}),a==="password"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-200",children:"Contrase√±a"}),e.jsxs("div",{className:"relative form-input-enhanced",children:[e.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(m,{id:"password",name:"password",type:l?"text":"password",value:s.password,onChange:n,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"pl-10 pr-10 bg-black/20 border-white/20 text-white placeholder-gray-400 focus:border-blue-400",required:!0}),e.jsx("button",{type:"button",onClick:()=>v(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:l?e.jsx(q,{className:"h-4 w-4"}):e.jsx(R,{className:"h-4 w-4"})})]})]}),i&&e.jsxs(h,{className:"bg-red-900/20 border-red-500/50 error-shake",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx(u,{className:"text-red-200",children:i})]}),y&&a==="magic_link"&&e.jsxs(h,{className:"bg-green-900/20 border-green-500/50 success-checkmark",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx(u,{className:"text-green-200",children:"Se ha enviado un enlace m√°gico a tu correo electr√≥nico. Revisa tu bandeja de entrada."})]}),e.jsx(F,{type:"submit",disabled:c||a==="password"&&(!s.email||!s.password)||a==="magic_link"&&!s.email,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:transform-none button-glow",children:c?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:a==="password"?"Iniciando sesi√≥n...":"Enviando enlace..."})]}):e.jsx("span",{children:a==="password"?"Iniciar Sesi√≥n":"Enviar Magic Link"})})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"üîí Entorno Sandbox ‚Ä¢ Hyperswitch"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Credenciales para pruebas (no precargadas)"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})]})};export{ie as default};
