import{c as Y,r as o,j as e,S as Q,L as H}from"./index-BWBdPVw1.js";import{p as W}from"./api-DgRPd40N.js";import{C as v,a as $,b as z,c as O,d as w}from"./card-B0NHfCRk.js";import{B as p}from"./button-D0HiSPgI.js";import{I as U}from"./input-DlQeWTVt.js";import{B as T}from"./badge-Cbp6oXzG.js";import{A as G,a as J}from"./alert-Dlt_bX8N.js";import{authService as L}from"./auth-DwGPDQtl.js";import"./js.cookie-Cz0CWeBA.js";import{A as Z}from"./arrow-left-BHPuKUeV.js";import{C as F,a as V}from"./clock-DXQ0aj1B.js";import{C}from"./credit-card-C19vYvun.js";import{C as q}from"./circle-alert-CCsZTkXT.js";import{D as K}from"./dollar-sign-CGSbiRo7.js";import{L as ee}from"./lock-Brx5kj8t.js";import{a as X,C as se}from"./circle-x-yUIy5qkr.js";import{P as ae,S as te}from"./search-DFi3g_37.js";import{R as re}from"./refresh-cw-f0hoREum.js";import{D as ne}from"./download-BFFW1y_I.js";import{E as le}from"./eye-DvcqYkme.js";import"./index-C5vqZNo1.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],oe=Y("arrow-up-down",ce);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],de=Y("funnel",ie),me=async(h,P="USD",i={})=>{try{const g=L.getAuthToken(),N=L.getMerchantId(),f=L.getProfileId();if(!g||!N)throw new Error("Usuario no autenticado o merchant ID no disponible");const S=L.baseURL,a={amount:h*100,currency:P.toUpperCase(),confirm:!1,capture_method:i.capture_method||"automatic",description:i.description||"Pago procesado por Multipaga",metadata:{...i.metadata,source:"multipaga",merchant_id:N,profile_id:f},...i},n=await fetch(`${S}/payments`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${g}`,...N&&{"x-merchant-id":N},...f&&{"x-profile-id":f}},body:JSON.stringify(a)}),j=await n.json();if(!n.ok)throw new Error(j.message||"Error creando payment intent");return j}catch(g){throw console.error("Error creando payment intent:",g),g}},xe=o.createContext({sdk:null,isInitialized:!1,isLoading:!1,error:null,initialize:()=>{},reset:()=>{}}),ue=()=>{const h=o.useContext(xe);if(!h)throw new Error("useHyperswitch debe ser usado dentro de HyperswitchProvider");return h},pe=({onBack:h,onPaymentComplete:P})=>{const{sdk:i,initialize:g,isInitialized:N,isLoading:f,error:S}=ue(),[a,n]=o.useState("form"),[j,r]=o.useState(!1),[D,u]=o.useState(null),[l,M]=o.useState({amount:"",currency:"USD",description:"",customer_email:""}),[I,A]=o.useState(null),[b,R]=o.useState(null),E=o.useRef(null),_=o.useRef(!1);o.useEffect(()=>()=>{i&&i.destroy()},[i]);const B=async c=>{var x;if(c.preventDefault(),!l.amount||!l.customer_email){u("Por favor completa todos los campos requeridos");return}const t=parseFloat(l.amount);if(isNaN(t)||t<=0){u("El monto debe ser un número válido mayor a 0");return}try{r(!0),u(null),n("processing");const k=await me(t,l.currency,{description:l.description||"Pago procesado por Multipaga",customer_email:l.customer_email,metadata:{source:"multipaga_payment_processor",user_email:(x=L.getUserInfo())==null?void 0:x.email}});A(k),await g(k.client_secret,{appearance:{theme:"stripe",labels:"above",variables:{fontFamily:"Inter, system-ui, sans-serif",colorPrimary:"#0570de",fontSizeBase:"16px",colorBackground:"#ffffff"}},locale:"es"});const he=i.createPaymentElement({layout:{type:"tabs",defaultCollapsed:!1,radios:!1,spacedAccordionItems:!1},showCardFormByDefault:!0,displaySavedPaymentMethods:!0,wallets:{walletReturnUrl:window.location.origin+"/payment-complete",applePay:"auto",googlePay:"auto"}});n("payment"),setTimeout(()=>{E.current&&!_.current&&(i.mountPaymentElement("#payment-element"),_.current=!0)},100)}catch(k){console.error("Error creando payment intent:",k),u(k.message||"Error procesando el pago"),n("error")}finally{r(!1)}},s=async c=>{if(c.preventDefault(),!i.isReady()){u("SDK no está listo. Por favor intenta de nuevo.");return}try{r(!0),u(null);const t=await i.confirmPayment({return_url:window.location.origin+"/payment-complete",confirmParams:{payment_method_data:{billing_details:{email:l.customer_email}}}});R(t),t.error?(u(t.error.message||"Error procesando el pago"),n("error")):t.paymentIntent&&(t.paymentIntent.status==="succeeded"?(n("complete"),P&&P(t.paymentIntent)):(u(`Pago en estado: ${t.paymentIntent.status}`),n("error")))}catch(t){console.error("Error confirmando pago:",t),u(t.message||"Error procesando el pago"),n("error")}finally{r(!1)}},d=(c,t)=>{M(x=>({...x,[c]:t}))},m=(c,t="USD")=>{if(!c)return"$0.00";const x=parseFloat(c);return new Intl.NumberFormat("es-HN",{style:"currency",currency:t==="HNL"?"HNL":"USD"}).format(x)},y=()=>{n("form"),u(null),M({amount:"",currency:"USD",description:"",customer_email:""}),A(null),R(null),_.current=!1};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(p,{variant:"ghost",size:"sm",onClick:h,children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Volver"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Procesar Pago"}),e.jsx("p",{className:"text-gray-600",children:"Procesamiento seguro con Hyperswitch"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Q,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"Conexión segura"})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 py-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${a==="form"?"text-blue-600":a==="processing"||a==="payment"||a==="complete"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a==="form"?"bg-blue-100 border-2 border-blue-600":a==="processing"||a==="payment"||a==="complete"?"bg-green-100 border-2 border-green-600":"bg-gray-100 border-2 border-gray-300"}`,children:a==="processing"||a==="payment"||a==="complete"?e.jsx(F,{className:"h-4 w-4"}):"1"}),e.jsx("span",{className:"text-sm font-medium",children:"Datos"})]}),e.jsx("div",{className:`w-12 h-0.5 ${a==="payment"||a==="complete"?"bg-green-600":"bg-gray-300"}`}),e.jsxs("div",{className:`flex items-center space-x-2 ${a==="payment"?"text-blue-600":a==="complete"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a==="payment"?"bg-blue-100 border-2 border-blue-600":a==="complete"?"bg-green-100 border-2 border-green-600":"bg-gray-100 border-2 border-gray-300"}`,children:a==="complete"?e.jsx(F,{className:"h-4 w-4"}):e.jsx(C,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-medium",children:"Pago"})]}),e.jsx("div",{className:`w-12 h-0.5 ${a==="complete"?"bg-green-600":"bg-gray-300"}`}),e.jsxs("div",{className:`flex items-center space-x-2 ${a==="complete"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a==="complete"?"bg-green-100 border-2 border-green-600":"bg-gray-100 border-2 border-gray-300"}`,children:a==="complete"?e.jsx(F,{className:"h-4 w-4"}):"3"}),e.jsx("span",{className:"text-sm font-medium",children:"Confirmación"})]})]}),(D||S)&&e.jsxs(G,{className:"bg-red-50 border-red-200",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(J,{className:"text-red-700",children:D||S})]}),a==="form"&&e.jsxs(v,{className:"bg-white shadow-lg",children:[e.jsxs($,{children:[e.jsxs(z,{className:"flex items-center space-x-2",children:[e.jsx(K,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Información del Pago"})]}),e.jsx(O,{children:"Ingresa los detalles del pago que deseas procesar"})]}),e.jsx(w,{children:e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Monto *"}),e.jsx(U,{type:"number",step:"0.01",min:"0.01",placeholder:"0.00",value:l.amount,onChange:c=>d("amount",c.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Moneda"}),e.jsxs("select",{value:l.currency,onChange:c=>d("currency",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"USD",children:"USD - Dólar Americano"}),e.jsx("option",{value:"HNL",children:"HNL - Lempira Hondureño"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email del Cliente *"}),e.jsx(U,{type:"email",placeholder:"cliente@ejemplo.com",value:l.customer_email,onChange:c=>d("customer_email",c.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripción"}),e.jsx(U,{placeholder:"Descripción del pago (opcional)",value:l.description,onChange:c=>d("description",c.target.value)})]}),l.amount&&e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total a cobrar:"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:m(l.amount,l.currency)})]})}),e.jsx(p,{type:"submit",className:"w-full",disabled:j||f,children:j||f?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 mr-2 animate-spin"}),"Creando pago..."]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Continuar al Pago"]})})]})})]}),a==="processing"&&e.jsx(v,{className:"bg-white shadow-lg",children:e.jsx(w,{className:"py-12",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(H,{className:"h-12 w-12 mx-auto animate-spin text-blue-600"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Preparando el pago..."}),e.jsx("p",{className:"text-gray-600",children:"Configurando la conexión segura con Hyperswitch"})]})})}),a==="payment"&&e.jsxs(v,{className:"bg-white shadow-lg",children:[e.jsxs($,{children:[e.jsxs(z,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Información de Pago"})]}),e.jsx(T,{variant:"outline",className:"text-green-600 border-green-600",children:"Seguro"})]}),e.jsx(O,{children:"Ingresa los detalles de tu método de pago de forma segura"})]}),e.jsxs(w,{children:[I&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Monto:"}),e.jsx("span",{className:"font-semibold",children:m(I.amount/100,I.currency)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Cliente:"}),e.jsx("span",{className:"font-medium",children:l.customer_email})]})]}),e.jsxs("form",{onSubmit:s,className:"space-y-6",children:[e.jsx("div",{id:"payment-element",ref:E,className:"min-h-[200px] p-4 border border-gray-200 rounded-lg"}),e.jsx(p,{type:"submit",className:"w-full",disabled:j||!i.isReady(),children:j?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 mr-2 animate-spin"}),"Procesando pago..."]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Confirmar Pago"]})})]})]})]}),a==="complete"&&b&&e.jsx(v,{className:"bg-white shadow-lg",children:e.jsx(w,{className:"py-12",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(F,{className:"h-16 w-16 mx-auto text-green-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"¡Pago Exitoso!"}),e.jsx("p",{className:"text-gray-600",children:"El pago se ha procesado correctamente"}),b.paymentIntent&&e.jsx("div",{className:"bg-green-50 p-4 rounded-lg text-left max-w-md mx-auto",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ID de Pago:"}),e.jsx("span",{className:"font-mono text-xs",children:b.paymentIntent.id})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monto:"}),e.jsx("span",{className:"font-semibold",children:m(b.paymentIntent.amount/100,b.paymentIntent.currency)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Estado:"}),e.jsx(T,{className:"bg-green-100 text-green-800",children:b.paymentIntent.status})]})]})}),e.jsxs("div",{className:"flex space-x-3 justify-center",children:[e.jsx(p,{onClick:y,variant:"outline",children:"Nuevo Pago"}),e.jsx(p,{onClick:h,children:"Volver al Dashboard"})]})]})})}),a==="error"&&e.jsx(v,{className:"bg-white shadow-lg",children:e.jsx(w,{className:"py-12",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(X,{className:"h-16 w-16 mx-auto text-red-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Error en el Pago"}),e.jsx("p",{className:"text-gray-600",children:"No se pudo procesar el pago"}),e.jsxs("div",{className:"flex space-x-3 justify-center",children:[e.jsx(p,{onClick:y,variant:"outline",children:"Intentar de Nuevo"}),e.jsx(p,{onClick:h,children:"Volver al Dashboard"})]})]})})})]})},He=()=>{const[h,P]=o.useState([]),[i,g]=o.useState(!0),[N,f]=o.useState(null),[S,a]=o.useState(!1),[n,j]=o.useState({search:"",status:"all",dateRange:"today"}),[r,D]=o.useState({offset:0,limit:20,total:0});o.useEffect(()=>{u()},[n,r.offset]);const u=async()=>{var s,d,m;try{g(!0),f(null);const y={limit:r.limit,offset:r.offset};if(n.dateRange!=="all"){const t=new Date;let x;switch(n.dateRange){case"today":x=new Date(t.getFullYear(),t.getMonth(),t.getDate());break;case"week":x=new Date(t.getTime()-10080*60*1e3);break;case"month":x=new Date(t.getFullYear(),t.getMonth(),1);break;default:x=new Date(t.getTime()-1440*60*1e3)}y.time_range={start_time:x.toISOString(),end_time:t.toISOString()}}n.status!=="all"&&(y.status=[n.status]);const c=await W.getPayments(y);P(((s=c.data)==null?void 0:s.data)||[]),D(t=>{var x;return{...t,total:((x=c.data)==null?void 0:x.total_count)||0}})}catch(y){console.error("Error cargando pagos:",y),f(((m=(d=y.response)==null?void 0:d.data)==null?void 0:m.message)||"Error cargando pagos")}finally{g(!1)}},l=(s,d)=>{j(m=>({...m,[s]:d})),D(m=>({...m,offset:0}))},M=(s,d="USD")=>{if(!s)return"$0.00";const m=s/100;return new Intl.NumberFormat("es-HN",{style:"currency",currency:d==="HNL"?"HNL":"USD"}).format(m)},I=s=>new Date(s).toLocaleString("es-HN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=s=>{switch(s==null?void 0:s.toLowerCase()){case"succeeded":return e.jsx(F,{className:"h-4 w-4 text-green-500"});case"failed":return e.jsx(X,{className:"h-4 w-4 text-red-500"});case"processing":return e.jsx(V,{className:"h-4 w-4 text-yellow-500"});case"pending":return e.jsx(V,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(q,{className:"h-4 w-4 text-gray-500"})}},b=s=>{const m={succeeded:{variant:"success",label:"Exitoso",className:"bg-green-100 text-green-800"},failed:{variant:"destructive",label:"Fallido",className:"bg-red-100 text-red-800"},processing:{variant:"warning",label:"Procesando",className:"bg-yellow-100 text-yellow-800"},pending:{variant:"secondary",label:"Pendiente",className:"bg-blue-100 text-blue-800"}}[s==null?void 0:s.toLowerCase()]||{label:s,className:"bg-gray-100 text-gray-800"};return e.jsx(T,{className:m.className,children:m.label})},R=s=>{switch(s==null?void 0:s.toLowerCase()){case"card":return e.jsx(C,{className:"h-4 w-4"});case"bank_transfer":return e.jsx(K,{className:"h-4 w-4"});default:return e.jsx(C,{className:"h-4 w-4"})}},E=s=>{D(d=>({...d,offset:s}))},_=s=>{console.log("Pago completado:",s),a(!1),u()},B=()=>{a(!1)};return S?e.jsx(pe,{onBack:B,onPaymentComplete:_}):e.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent",children:"Gestión de Pagos"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Monitorea y gestiona todas las transacciones de pago"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(p,{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Nuevo Pago"]}),e.jsxs(p,{onClick:u,variant:"outline",size:"sm",disabled:i,children:[e.jsx(re,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Actualizar"]}),e.jsxs(p,{variant:"outline",size:"sm",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),e.jsxs(v,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx($,{children:e.jsxs(z,{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Filtros"})]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(U,{placeholder:"ID de pago, email...",value:n.search,onChange:s=>l("search",s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estado"}),e.jsxs("select",{value:n.status,onChange:s=>l("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Todos los estados"}),e.jsx("option",{value:"succeeded",children:"Exitoso"}),e.jsx("option",{value:"failed",children:"Fallido"}),e.jsx("option",{value:"processing",children:"Procesando"}),e.jsx("option",{value:"pending",children:"Pendiente"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Período"}),e.jsxs("select",{value:n.dateRange,onChange:s=>l("dateRange",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"today",children:"Hoy"}),e.jsx("option",{value:"week",children:"Última semana"}),e.jsx("option",{value:"month",children:"Último mes"}),e.jsx("option",{value:"all",children:"Todo el tiempo"})]})]})]})})]}),N&&e.jsxs(G,{className:"bg-red-50 border-red-200",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx(J,{className:"text-red-700",children:N})]}),e.jsxs(v,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx($,{children:e.jsxs(z,{className:"text-lg font-semibold text-gray-800 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Transacciones"})]}),e.jsxs(T,{variant:"outline",children:[r.total," total"]})]})}),e.jsx(w,{children:i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-6 w-6 animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-600",children:"Cargando pagos..."})]})}):h.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[e.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[e.jsx(oe,{className:"h-3 w-3"}),e.jsx("span",{children:"ID / Cliente"})]}),e.jsx("div",{className:"col-span-2",children:"Método"}),e.jsx("div",{className:"col-span-2",children:"Monto"}),e.jsx("div",{className:"col-span-2",children:"Estado"}),e.jsx("div",{className:"col-span-2",children:"Fecha"}),e.jsx("div",{className:"col-span-1",children:"Acciones"})]}),h.map((s,d)=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsx("p",{className:"font-medium text-gray-800 text-sm",children:s.payment_id||`pay_${d}`}),e.jsx("p",{className:"text-xs text-gray-500",children:s.customer_email||"cliente@ejemplo.com"})]}),e.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[R(s.payment_method),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:s.payment_method||"card"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:M(s.amount,s.currency)}),e.jsx("p",{className:"text-xs text-gray-500",children:s.currency||"USD"})]}),e.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[A(s.status),b(s.status)]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx(se,{className:"h-3 w-3"}),e.jsx("span",{children:I(s.created||new Date().toISOString())})]})}),e.jsx("div",{className:"col-span-1",children:e.jsx(p,{variant:"ghost",size:"sm",children:e.jsx(le,{className:"h-4 w-4"})})})]},s.payment_id||d)),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",r.offset+1," a ",Math.min(r.offset+r.limit,r.total)," de ",r.total," resultados"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:()=>E(Math.max(0,r.offset-r.limit)),disabled:r.offset===0,children:"Anterior"}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>E(r.offset+r.limit),disabled:r.offset+r.limit>=r.total,children:"Siguiente"})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(C,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No hay pagos disponibles"}),e.jsx("p",{className:"text-gray-600",children:"Los pagos aparecerán aquí cuando se procesen transacciones"})]})})]})]})};export{He as default};
